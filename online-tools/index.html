<!doctype html>
<html lang="zh-CN" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">在线工具 - pansyhou的小站</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pansyhou.github.io/online-tools"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="在线工具 - pansyhou的小站"><meta data-rh="true" name="description" content="基于 React 与 MUI 组件库搭建在线工具网站"><meta data-rh="true" property="og:description" content="基于 React 与 MUI 组件库搭建在线工具网站"><meta data-rh="true" name="keywords" content="project,react,tool"><meta data-rh="true" property="og:image" content="https://pansyhou.github.io/img/project/online-tools.png"><meta data-rh="true" name="twitter:image" content="https://pansyhou.github.io/img/project/online-tools.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-03-16T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/kuizuo"><meta data-rh="true" property="article:tag" content="project,react,tool"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pansyhou.github.io/online-tools"><link data-rh="true" rel="alternate" href="https://pansyhou.github.io/en/online-tools" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://pansyhou.github.io/online-tools" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://pansyhou.github.io/online-tools" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GV6YN1ODMO-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S4SD5NXWXF"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-S4SD5NXWXF",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="pansyhou的小站" href="/opensearch.xml">
<link rel="preconnect" href="https://matomo.kuizuo.cn/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://matomo.kuizuo.cn/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>


<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?c9a3849aa75f9c4a4e65f846cd1a5155",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-rqLUw5reVS">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="pansyhou RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="pansyhou Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="pansyhou JSON Feed">

<link rel="icon" href="/img/logo.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(51 139 255)">
<meta name="description" content="pansyhou的个人博客"><link rel="stylesheet" href="/assets/css/styles.52f2828f.css">
<link rel="preload" href="/assets/js/runtime~main.81659ca8.js" as="script">
<link rel="preload" href="/assets/js/main.497c6201.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.webp" alt="pansyhou" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.webp" alt="pansyhou" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">pansyhou</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">学习</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/skill/">笔记</a></li><li><a class="dropdown__link" href="/docs/oi/">刷题</a></li><li><a class="dropdown__link" href="/tags">标签</a></li><li><a class="dropdown__link" href="/archive">归档</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">嵌入式开发</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/stm32/">STM32</a></li></ul></div><a class="navbar__item navbar__link" href="/resource">导航</a><a class="navbar__item navbar__link" href="/project">项目</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文（中国）</a><ul class="dropdown__menu"><li><a href="/en/online-tools" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-GB">English</a></li><li><a href="/online-tools" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">中文（中国）</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://pansyhou.github.io/img/project/online-tools.png"><header><h1 itemprop="headline">在线工具</h1><div class="container_iJTo margin-vert--md"><time datetime="2022-03-16T00:00:00.000Z" itemprop="datePublished">2022年3月16日</time> · <!-- -->阅读需 9 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_q4o9"><div class="avatar margin-bottom--sm"><a href="https://github.com/kuizuo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="/img/logo.webp" alt="愧怍"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/kuizuo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">愧怍</span></a></div><small class="avatar__subtitle" itemprop="description">全栈 typescripter / 学生</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p><img loading="lazy" alt="愧怍在线工具" src="data:image/png;base64,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" width="1151" height="534" class="img_ev3q"></p><p><a href="http://tools.kuizuo.cn/" target="_blank" rel="noopener noreferrer">在线工具地址</a></p><p>之前学习的时候，都会看到网络上一些在线工具的网站，比如获取时间戳，编码转化，正则表达式等等，这些对于一些初学者在电脑上没有安装相对应的工具，往往就会百度搜索在线工具，然后就能实现自己所要完成的目的。</p><p>这些工具很是方便，或多或少都会用到。但一些在线工具并不能满足我日常开发中的个别需求，于是乎我也准备自己写一个这样的在线工具网站。不过这里肯定不会像其他网站那种搞得花里胡哨的，同时也不会去重复的造轮子，这样很没有意义。</p><p>顺便也记录下这类工具的编写以及用途</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="技术栈">技术栈<a href="#技术栈" class="hash-link" aria-label="技术栈的直接链接" title="技术栈的直接链接">​</a></h2><p>有一段时间没怎么写 React 了，同时对 mui 组件库感兴趣，于是这次的使用 React 和 material 设计风格的组件库来进行编写，使用到 create-react-app 脚手架进行开发，同时使用 TypeScript 进行编写。</p><p>该纯前端，无任何后端交互部分。</p><p>不做代码分析与演示，可自行在网站上测试与 clone 源码进行查看。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="功能">功能<a href="#功能" class="hash-link" aria-label="功能的直接链接" title="功能的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="查询字符串与-json-转化">查询字符串与 json 转化<a href="#查询字符串与-json-转化" class="hash-link" aria-label="查询字符串与 json 转化的直接链接" title="查询字符串与 json 转化的直接链接">​</a></h3><p>如果是在协议复现的话，有些包的请求体是通过查询字符串来拼接的，也就是协议头<code>Content-Type：application/x-www-form-urlencoded</code>，请求体如 <code>username=kuizuo&amp;password=a123456</code>，一般情况下都不会采取字符串来进行替换，而是转成 json 格式，如 <code>{ &quot;username&quot;:&quot;kuizuo&quot;,&quot;password&quot;,&quot;a123456&quot;}</code> 然后使用一些库（querystring）将 json 转成查询字符串的形式。</p><p>但是编写代码的时候，<strong>需要把抓包得到的查询字符串转成 json</strong>，而这也就是这部分的主要功能。</p><p>不过 js 本身是不支持 gbk 编码的，遇到使用 gbk 进行 url 编码的网站就需要自定义先将原文本进行 gbk 编码或解码然后才进行转化操作。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cookie-与-json-转化">Cookie 与 json 转化<a href="#cookie-与-json-转化" class="hash-link" aria-label="Cookie 与 json 转化的直接链接" title="Cookie 与 json 转化的直接链接">​</a></h3><p>和查询字符串与 json 转化功能类似，只不过是将 cookie 文本与 json 互转。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="url-utf8-与-gbk-编码">URL UTF8 与 GBK 编码<a href="#url-utf8-与-gbk-编码" class="hash-link" aria-label="URL UTF8 与 GBK 编码的直接链接" title="URL UTF8 与 GBK 编码的直接链接">​</a></h3><p>有些国内网站上可能会使用 GBK 编码，但大多数语言默认都是 UTF8 编码，如果编码格式错误，后端接收到的请求必定失败。在这里我是使用到<a href="https://www.npmjs.com/package/gbk-nice" target="_blank" rel="noopener noreferrer">gbk-nice</a>这个库，可以达到 gbk 版的<code>encodeURIComponent</code>与<code>decodeURIComponent</code>，与 js 自带的<code>encodeURIComponent</code>和<code>decodeURIComponent</code>也就是 gbk 与 utf-8 编码的区别。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="网站实现">网站实现<a href="#网站实现" class="hash-link" aria-label="网站实现的直接链接" title="网站实现的直接链接">​</a></h2><p>上面所介绍的都是作为一个工具库的功能，我只是将其封装成一个在线工具使用，并非主要重点。而主要是对一些网站的功能实现，例如复制与下载等等。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="react-codemirror">react-codemirror<a href="#react-codemirror" class="hash-link" aria-label="react-codemirror的直接链接" title="react-codemirror的直接链接">​</a></h3><p>在网页上展示代码，并有代码高亮的功能，首选的组件就是 codemirror 了，也是很多在线工具都使用的，我这里也不例外。</p><p><a href="https://uiwjs.github.io/react-codemirror/" target="_blank" rel="noopener noreferrer">React CodeMirror</a></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="复制">复制<a href="#复制" class="hash-link" aria-label="复制的直接链接" title="复制的直接链接">​</a></h3><p>复制的话其实是可以使用 npm 包的，但是之前在写其他项目的时候，看到封装过一个 copyToClipboard 的功能，这里也就是将其拷贝置 utils 下供外部使用。</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Options</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  target</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> HTMLElement</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">copyTextToClipboard</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">input</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> target </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">body </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> Options </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> element </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">createElement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;textarea&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> previouslyFocusedElement </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">activeElement</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  element</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">value </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> input</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  element</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setAttribute</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;readonly&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">style </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">contain </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;strict&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  element</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">style</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">position </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;absolute&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  element</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">style</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">left </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;-9999px&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  element</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">style</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">fontSize </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;12pt&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> selection </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getSelection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> originalRange</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">selection </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;&amp;</span><span class="token plain"> selection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">rangeCount </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    originalRange </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> selection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">getRangeAt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  target</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">append</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">element</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  element</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  element</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">selectionStart </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  element</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">selectionEnd </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> input</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">length</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> isSuccess </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    isSuccess </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">execCommand</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;copy&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  element</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">remove</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">originalRange </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;&amp;</span><span class="token plain"> selection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    selection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">removeAllRanges</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    selection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">addRange</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">originalRange</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">previouslyFocusedElement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">previouslyFocusedElement </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> HTMLElement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">focus</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> isSuccess</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>主要使用浏览器中的<code>document.execCommand(&#x27;copy&#x27;)</code></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="下载">下载<a href="#下载" class="hash-link" aria-label="下载的直接链接" title="下载的直接链接">​</a></h3><p>在需要这个需求的时候，我一开始是懵的，因为之前我是没有写过原生的浏览器下载事件，都是使用外有已经封装好的的接口直接调用即可，于是这次我也是毫不意外的通过搜索引擎找到了个复制的代码</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BlobPart</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> BufferSource </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> Blob </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">downloadByData</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> BlobPart</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> filename</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> mime</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> bom</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> BlobPart</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> blobData </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">typeof</span><span class="token plain"> bom </span><span class="token operator" style="color:rgb(0, 0, 0)">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;undefined&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">bom</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> blob </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Blob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">blobData</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> type</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> mime </span><span class="token operator" style="color:rgb(0, 0, 0)">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;application/octet-stream&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> blobURL </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> window</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:rgb(129, 31, 63)">URL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">createObjectURL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">blob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> tempLink </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> document</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">createElement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;a&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  tempLink</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">style</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">display </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;none&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  tempLink</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">href </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> blobURL</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  tempLink</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setAttribute</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;download&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> filename</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">typeof</span><span class="token plain"> tempLink</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">download </span><span class="token operator" style="color:rgb(0, 0, 0)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;undefined&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    tempLink</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">setAttribute</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;target&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;_blank&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  document</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">body</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">appendChild</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">tempLink</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  tempLink</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">click</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  document</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">body</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">removeChild</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">tempLink</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  window</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:rgb(129, 31, 63)">URL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">revokeObjectURL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">blobURL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>原理的话是创建<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Blob" target="_blank" rel="noopener noreferrer">Blob</a>对象（类文件对象），将数据写入，然后创建一个 a 标签（隐藏任何样式），然后并点击创建后的 a 标签，最终移除 a 标签，已达到类似点击下载按钮来下载文件的目的。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="主题切换">主题切换<a href="#主题切换" class="hash-link" aria-label="主题切换的直接链接" title="主题切换的直接链接">​</a></h3><p>我一开始实现这个功能是想使用自定义 hooks 的，但是在我编写的过程中，发现切换主题的组件与 codemirror 展示的组件，并不属于在一个组件内。也就是说，我如果写了个 useTheme（实际上我也真写了），我相当于在这两个组件内都使用了独立的状态，互不影响，也就是我点击了切换主题的按钮，但影响不到展示组件的代码。也算是加深了我对 hooks 的理解。</p><p>然后我就在想 Vue 的话是如何实现主题切换的，然后翻看了一些 vue 相关的代码，不出所料，使用到全局状态管理，也就是 Store。react 状态管理有 redux，还有官方提供的 useReducer，但我感觉都太繁琐了，于是我另寻其路。</p><p>我博客不是就是用 React 写的吗，我直接看源码是如何实现的，发现使用到了 React 的 useContext，也就是接下来我所要写的。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="usecontext">useContext<a href="#usecontext" class="hash-link" aria-label="useContext的直接链接" title="useContext的直接链接">​</a></h4><p>首先要明确的是，theme 的状态应该是放在全局配置或者说最顶层的组件（当做父组件），然后子组件接收父组件的相关数据进行重新渲染组件。如果只是父子两层之间的关系还相对简单些，直接通过 props 传参即可，但是对于大部分组件关系，基本都是祖孙级别的关系，所以也就有了 Context。</p><p>并且 <a href="https://react.docschina.org/docs/context.html#reactcreatecontext" target="_blank" rel="noopener noreferrer">官方文档</a> 中也是用主题切换作为 context 作为演示例子。而对于应用程序中许多组件都需要的属性，Context 无法是一个很好的选择。</p><p>首先我创建了一个 Context</p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token imports"> createContext </span><span class="token imports punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> </span><span class="token maybe-class-name">ThemeContext</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:rgb(0, 0, 255)">createContext</span><span class="token generic-function generic class-name operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token generic-function generic class-name builtin" style="color:rgb(0, 112, 193)">any</span><span class="token generic-function generic class-name operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后在顶层组件中使用（Demo 仅作为演示），其中 value 需要是需要传入给子孙组件所要使用的状态或函数，比方这里 theme 和 toggleTheme。</p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ThemeContext</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;../contexts/theme-context&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">ThemeContext.Provider</span><span class="token tag" style="color:rgb(128, 0, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 0, 0)">value</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token tag script language-javascript" style="color:rgb(128, 0, 0)"> theme</span><span class="token tag script language-javascript punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token tag script language-javascript" style="color:rgb(128, 0, 0)"> toggleTheme </span><span class="token tag script language-javascript punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">Demo</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">Demo</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain-text"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">ThemeContext.Provider</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在子孙组件的话就可以使用 <code>useContext(ThemeContext)</code> 来获取父级传入的数据，在这里也就是 <code>{ theme, toggleTheme }</code></p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ThemeContext</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;../contexts/theme-context&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">default</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">SwitchTheme</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> theme</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> toggleTheme </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">useContext</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token maybe-class-name">ThemeContext</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>接着就是切换主题的按钮点击，然后更改 theme，就会渲染对应的组件，至此切换主题的功能也就完成了</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="keep-alive">keep-alive<a href="#keep-alive" class="hash-link" aria-label="keep-alive的直接链接" title="keep-alive的直接链接">​</a></h2><p>在使用 mui 的 Tabs 组件库时，来回切换 Tab 会导致上一个页面的组件重新渲染，状态返回初始状态。这肯定不是我所希望的，由于我之前又有接触过 Vue，所以自然而然就联想到 keep-alive，然后我就去搜索 react 的 keep-alive 解决方案，找到了个<a href="https://github.com/CJY0208/react-activation" target="_blank" rel="noopener noreferrer">react-activation</a>，并解决了的需求。</p><p>想做到的目的就是能把 Demo 组件缓存起来，像下面这样的写法</p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">KeepAlive</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">Demo</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">Demo</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain-text"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">KeepAlive</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>由于我使用的是 React17+，所以需要使用放置<code>&lt;AliveScope&gt;</code>外层，也就是上面的代码要改写成</p><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">AliveScope</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">KeepAlive</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">Demo</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">Demo</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">KeepAlive</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain-text"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag class-name" style="color:rgb(38, 127, 153)">AliveScope</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>不过要注意: 当与<code>react-router</code>或<code>react-redux</code>一起使用时，你需要将<code>&lt;AliveScope&gt;</code>放在<code>&lt;Router&gt;</code>或<code>&lt;Provider&gt;</code>内</p><p>这些在官方文档中也有介绍，这里就不细说了。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="webpack5-配置-node-相关库">Webpack5 配置 Node 相关库<a href="#webpack5-配置-node-相关库" class="hash-link" aria-label="Webpack5 配置 Node 相关库的直接链接" title="Webpack5 配置 Node 相关库的直接链接">​</a></h2><p>由于使用的 create-react-app，就使用到了 Webpack5，但是 Webpack5 是不支持 Node 自带的一些库，例如我所需要使用到的 Buffer，所以就需要 npm run eject 把 webpack 配置暴露出来。</p><p>如果是要配置 Node 相关库是有一个插件 <a href="https://www.npmjs.com/package/node-polyfill-webpack-plugin" target="_blank" rel="noopener noreferrer">NodePolyfillPlugin</a>，将会把 Node 的系统库的函数注册到 webpack 中供前端使用，相对简单，而且方便。但相对打包体积肯定有所提升，这里只是提提。</p><p>在 webpack5 官方有个测试 <a href="https://webpack.docschina.org/migrate/5/#test-webpack-5-compatibility" target="_blank" rel="noopener noreferrer">兼容性</a> 的，就有提到 <code>Buffer: false</code></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">node</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token literal-property property">Buffer</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token literal-property property">process</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>要解决 Buffer 也比较简单，直接通过如下代码即可</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">plugins</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token spread operator" style="color:rgb(0, 0, 0)">...</span><span class="token keyword" style="color:rgb(0, 0, 255)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">webpack</span><span class="token class-name punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token class-name" style="color:rgb(38, 127, 153)">ProvidePlugin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token literal-property property">Buffer</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;buffer&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Buffer&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>也有可能需要在 resolve 中设置下 fallback</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token literal-property property">resolve</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">fallback</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token literal-property property">buffer</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> require</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">resolve</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;buffer&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="总结">总结<a href="#总结" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h2><p>实际编写过程其实并不轻松，但是好在很多坑与开发难点都有前人的遇到，所以搜索就已经帮我解决了很多问题。不过这期间也是不断的尝试，编译，最终实现结果是符合我一开始的期望的。</p><p>不过目前所编写的几个功能主要为我目前写协议复现所需要的，而对于大部分像时间戳，正则，加解密相关这些外面都有现成的，何必又要花费时间去造轮子呢。</p><p>后续的话应该还是会添加一些额外的功能，例如搞个代码框的配置页面，可供选择语言，代码框的高度，可视化表格的增删改。同时对代码进行一定的重构，对一些组件复用，已经完善持久化的配置。</p><p>最主要还是希望能成为我日常开发中常用的在线工具类，而不是简简单单 Demo 学习。</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_Wr5y"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/project">project</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/react">react</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/tool">tool</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/pansyhou/pansyhou.github.io/edit/main/blog/project/在线工具.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/sse-server-send-event"><div class="pagination-nav__sublabel">较新一篇</div><div class="pagination-nav__label">SSE 服务器发送事件</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/http-config-client-ssl-certificate"><div class="pagination-nav__sublabel">较旧一篇</div><div class="pagination-nav__label">HTTP请求配置客户端SSL证书</div></a></nav><div>Loading Comments...</div><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#技术栈" class="table-of-contents__link toc-highlight">技术栈</a></li><li><a href="#功能" class="table-of-contents__link toc-highlight">功能</a><ul><li><a href="#查询字符串与-json-转化" class="table-of-contents__link toc-highlight">查询字符串与 json 转化</a></li><li><a href="#cookie-与-json-转化" class="table-of-contents__link toc-highlight">Cookie 与 json 转化</a></li><li><a href="#url-utf8-与-gbk-编码" class="table-of-contents__link toc-highlight">URL UTF8 与 GBK 编码</a></li></ul></li><li><a href="#网站实现" class="table-of-contents__link toc-highlight">网站实现</a><ul><li><a href="#react-codemirror" class="table-of-contents__link toc-highlight">react-codemirror</a></li><li><a href="#复制" class="table-of-contents__link toc-highlight">复制</a></li><li><a href="#下载" class="table-of-contents__link toc-highlight">下载</a></li><li><a href="#主题切换" class="table-of-contents__link toc-highlight">主题切换</a><ul><li><a href="#usecontext" class="table-of-contents__link toc-highlight">useContext</a></li></ul></li></ul></li><li><a href="#keep-alive" class="table-of-contents__link toc-highlight">keep-alive</a></li><li><a href="#webpack5-配置-node-相关库" class="table-of-contents__link toc-highlight">Webpack5 配置 Node 相关库</a></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">学习</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tags">标签</a></li><li class="footer__item"><a class="footer__link-item" href="/archive">归档</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/skill">技术笔记</a></li><li class="footer__item"><a class="footer__link-item" href="/project">实战项目</a></li></ul></div><div class="col footer__col"><div class="footer__title">社交媒体</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about">关于我</a></li><li class="footer__item"><a href="https://github.com/pansyhou" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="right" href="/friends">友链</a></li><li class="footer__item"><a class="footer__link-item" position="right" href="/resource">导航</a></li><li class="footer__item"><a href="https://docusaurus.io/zh-CN/" target="_blank"><img style="height:50px;margin-top:0.5rem" src="/img/buildwith.png"><a></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p>Copyright © 2020 - PRESENT pansyhou Built with Docusaurus.</p></div></div></div></footer></div>
<script src="/assets/js/runtime~main.81659ca8.js"></script>
<script src="/assets/js/main.497c6201.js"></script>
</body>
</html>